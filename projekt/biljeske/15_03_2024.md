# 11.03.2024


Kljucno
- neovisno o tome koristi li se can network driver za docker, ecu-ovi trebaju biti spojeni i u docker bridge mrezu kako bi mogli komunicirati s modularnim gui komponentama (primjerice prikaz brzine)

Issue za cannelloni tcp server koji prihvaca vise klijenata
- https://github.com/mguentner/cannelloni/issues/17
	- predlozeno rjesenje je pokrenut vise istanci



Cannelloni komunikacija izmedju dva ecua preko jednog vcan sucelja u gw containeru koji pokrece vise cannelloni instanci na razlicitim portovima.

![[izvedba2a.jpg]]

![[gw_canneloni.png]]


3 ecu-a na dvije sabirnice, gw procesi:
```
8c11062d772b:/# ps -a
PID   USER     TIME  COMMAND
    1 root      0:00 {setup_gw.sh} /bin/bash /setup_gw.sh
   13 root      0:00 /bin/bash
   17 root      0:00 cannelloni/cannelloni -I vcan1 -C s -R ecu1 -r 10001 -l 10001 -f
   22 root      0:00 cannelloni/cannelloni -I vcan2 -C s -R ecu2 -r 10002 -l 10002 -f
   46 root      0:00 cannelloni/cannelloni -I vcan1 -C s -R ecu3 -r 10003 -l 10003 -f
   49 root      0:00 ps -a

```
gw cangw pravila:
```
8c11062d772b:/# cangw -L
cangw -A -s vcan2 -d vcan1 -X -e # 0 handled 0 dropped 832 deleted
cangw -A -s vcan1 -d vcan2 -X -e # 964 handled 0 dropped 0 deleted
```

normalno radi sve, sigurna opcija

